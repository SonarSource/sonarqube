<style>
  #body {
    padding: 0 1px 0 0;
  }
</style>

<% form_tag :action => 'generate' do %>
  <table class="data marginbottom10">
    <thead>
    <tr>
      <th><%= message('server_id_configuration.page') -%></th>
    </tr>
    </thead>
    <tbody>
    <tr class="even">
      <td style="padding: 10px">
        <p class="marginbottom10"><%= message('server_id_configuration.information') -%></p>

        <% if @server_id %>
          <big><b><span class="<%= @bad_id ? 'error' : 'notice' -%>" id="server_id"><%= @server_id -%></span></b></big>
          <% if @bad_id %>
            <span class="error"><%= message('server_id_configuration.bad_key') -%></span>
          <% end %>
          <br/>
        <% end %>
      </td>
    </tr>
    <tr class="odd">
      <td style="padding: 10px">
        <h3><%= message('server_id_configuration.organisation.title') -%></h3>

        <p class="marginbottom10"><%= message('server_id_configuration.organisation.desc') -%></p>
        <input type="text" name="organisation" value="<%= @organisation -%>" size="50"/>
        <br/>
        <span class="note"><%= message('server_id_configuration.organisation.pattern') -%></span>
      </td>
    </tr>
    <tr class="even">
      <td style="padding: 10px">
        <h3><%= message('server_id_configuration.ip.title') -%></h3>

        <p class="marginbottom10"><%= message('server_id_configuration.ip.desc') -%></p>
        <ul class="marginbottom10 bullet">
          <% @valid_addresses.each_with_index do |ip_address, index| %>
            <li><span id="address_<%= index -%>"><%= ip_address.getHostAddress() -%></span></li>
          <% end %>
        </ul>
        <input type="text" name="address" value="<%= @address -%>"/>
      </td>
    </tr>
    </tbody>
  </table>

  <%= submit_tag message('server_id_configuration.generate_button'), :disable_with => message('server_id_configuration.generating_button'), :id => 'generate-button' -%>
<% end %>


